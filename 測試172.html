<!DOCTYPE html>
<html lang="zh-Hant-TW">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link rel="stylesheet" href="./測試172.css" />
	</head>
	<body>
		<!-- 輪播圖 -->
		<div class="btn-login"></div>
		<div class="btn-home"></div>
		<div class="btn-open"></div>
		<div class="btn-play"></div>
		<script>
			const getUrlSearchParams = (url, params) => {
				let hostname = new URL(url).hostname;
				let param = new URL(url).pathname;
				let paramIndex = new URL(url).pathname.indexOf("Url");
				if (paramIndex > 0) {
					return {
						hostname,
						param
					};
				} else {
					return false;
				}
			};
			let url1 = "https://gama-event.beanfun.com/Url=9462627C71B2199BDFD43ABD9521F3B7&Id=1009&pageTypeSeq=1";
			let url2 = "https://cso-gama-event.beanfun.com/Url=9462627C71B2199BDFD43ABD9521F3B7.1009";
			let url3 = "https://gama-event.beanfun.com/Url=9462627C71B2199BDFD43ABD9521F3B7.1009";
			let url4 = "https://gama-event.beanfun.com/9462627C71B2199BDFD43ABD9521F3B7.1009";

			let UrlList = getUrlSearchParams(url4, "Url");
			let data = {
				url: "",
				eventSeq: 0,
				gA4Name: ""
			};

			if (UrlList) {
				if (UrlList.param.match(/Id=([a-zA-Z0-9]+)/)) {
					data.url = UrlList.param.match(/Url=([a-zA-Z0-9]+)/)[1];
					data.eventSeq = UrlList.param.match(/Id=([a-zA-Z0-9]+)/)[1];
				} else {
					data.url = UrlList.param.match(/Url=([a-zA-Z0-9]+)/)[1];
					data.eventSeq = UrlList.param.split(".")[1];
					if (UrlList.hostname.split("-").length > 2) {
						data.gA4Name = UrlList.hostname.split("-")[0];
					}
				}
			} else {
				console.log("NO");
			}
			console.log(data);

			// 正則表達式千位號轉換
		</script>
	</body>
</html>
