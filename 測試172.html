<!DOCTYPE html>
<html lang="zh-Hant-TW">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script src="https://tw.hicdn.beanfun.com/jquery/jquery.min.js"></script>
		<script src="https://tw.hicdn.beanfun.com/jquery/jquery-migrate.min.js"></script>
		<title>Document</title>
		<link rel="stylesheet" href="./測試172.css" />
	</head>
	<body>
		<div class="item">
			<div class="gift"><img src="https://tw.hicdn.beanfun.com/beanfun/GamaWWW/CSO/event/E20230517/assets/style/img/gift/superAS.png" alt="" /></div>
			<div class="gift-content">
				<div class="gift-content-name">超A解碼器(1個)</div>
				<div class="gift-content-player">LQKAJACXBOFGOMMCHMKPLQKAJACXBOFGOMMCHMKPLQKAJACXBOFGOMMCHMKPLQKAJACXBOFGOMMCHMKPLQKAJACXBOFGOMMCHMKPLQKAJACXBOFGOMMCHMKPLQKAJACXBOFGOMMCHMKPLQKAJACXBOFGOMMCHMKPLQKAJACXBOFGOMMCHMKP</div>
				<div class="gift-content-time">2023/07/06 12:00:19</div>
			</div>
		</div>
		<!-- 輪播圖 -->
		<div class="btn-login"></div>
		<div class="btn-home"></div>
		<div class="btn-open"></div>
		<div class="btn-play"></div>
		<select name="" id="select">
			<option value="1">A</option>
			<option value="2">B</option>
			<option value="3">C</option>
		</select>
		<script>
			$("#select").on("change", function () {
				console.log($(this).val());
			});
			const getUrlSearchParams = (url, params) => {
				let hostname = new URL(url).hostname;
				let param = new URL(url).pathname;
				let paramIndex = new URL(url).pathname.indexOf("Url");
				if (paramIndex > 0) {
					return {
						hostname,
						param
					};
				} else {
					return false;
				}
			};
			let url1 = "https://gama-event.beanfun.com/Url=9462627C71B2199BDFD43ABD9521F3B7&Id=1009&pageTypeSeq=1";
			let url2 = "https://cso-gama-event.beanfun.com/Url=9462627C71B2199BDFD43ABD9521F3B7.1009";
			let url3 = "https://gama-event.beanfun.com/Url=9462627C71B2199BDFD43ABD9521F3B7.1009";
			let url4 = "https://gama-event.beanfun.com/9462627C71B2199BDFD43ABD9521F3B7.1009";

			let UrlList = getUrlSearchParams(url4, "Url");
			let data = {
				url: "",
				eventSeq: 0,
				gA4Name: ""
			};

			if (UrlList) {
				if (UrlList.param.match(/Id=([a-zA-Z0-9]+)/)) {
					data.url = UrlList.param.match(/Url=([a-zA-Z0-9]+)/)[1];
					data.eventSeq = UrlList.param.match(/Id=([a-zA-Z0-9]+)/)[1];
				} else {
					data.url = UrlList.param.match(/Url=([a-zA-Z0-9]+)/)[1];
					data.eventSeq = UrlList.param.split(".")[1];
					if (UrlList.hostname.split("-").length > 2) {
						data.gA4Name = UrlList.hostname.split("-")[0];
					}
				}
			} else {
				console.log("NO");
			}
			console.log(data);

			// 正則表達式千位號轉換
		</script>
	</body>
</html>
