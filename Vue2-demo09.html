<!DOCTYPE html>
<html lang="zh-Hant-TW">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<script src="https://tw.hicdn.beanfun.com/plugins/vue/2.6.10/vue.js"></script>
		<!-- <script src="https://tw.hicdn.beanfun.com/plugins/vue/2.6.10/vue.min.js"></script> -->
		<style></style>
	</head>
	<body>
		<div id="app">
			<div>{{age}} - {{getAge}}</div>
			<div ref="dom">msg - {{msg}}</div>
			<button type="button" class="" @click="handleUpdate">更新</button>
			<input type="text" v-model="age" />
			<select class="select-group__control" v-model="selected">
				<optgroup label="淺色系">
					<option :value="option.value" v-for="option in style1">{{option.text}}</option>
				</optgroup>
				<optgroup label="深色系">
					<option :value="option.value" v-for="option in style2">{{option.text}}</option>
				</optgroup>
			</select>
		</div>
		<script>
			var vm = new Vue({
				el: "#app",
				data: {
					msg: 0,
					age: 1,
					selected: "blue1",
					style1: [
						{ value: "red1", text: "紅" },
						{ value: "orange1", text: "橘" },
						{ value: "yellow1", text: "黃" },
						{ value: "green1", text: "綠" },
						{ value: "blue1", text: "藍" },
						{ value: "indigo1", text: "靛" },
						{ value: "purple1", text: "紫" },
						{ value: "grayscale1", text: "黑白灰" }
					],
					style2: [
						{ value: "red2", text: "紅" },
						{ value: "orange2", text: "橘" },
						{ value: "yellow2", text: "黃" },
						{ value: "green2", text: "綠" },
						{ value: "blue2", text: "藍" },
						{ value: "indigo2", text: "靛" },
						{ value: "purple2", text: "紫" },
						{ value: "grayscale2", text: "黑白灰" }
					]
				},
				watch: {
					age: {
						handler(newVal, oldVal) {
							console.log(newVal, oldVal);
						}
					}
				},
				computed: {
					getAge() {
						console.log("computed");
						return this.age;
					}
				},
				methods: {
					handleUpdate() {
						this.msg = "222";
						this.msg = "333";
						this.msg = "444";
						setTimeout(() => {
							this.msg = "555";
						});

						Promise.resolve((this.msg = "666"));

						this.$nextTick(() => {
							console.log(this.$refs.dom.innerHTML); // 666
						});
					}
				}
			});
		</script>
	</body>
</html>
