<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" type="text/css" media="screen" href="/style.css" />
		<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
		<title>POP說明</title>
		<style>
			#box {
				font-size: 56px;
				color: var(--color, #fff);
			}
		</style>
	</head>

	<body>
		<section>
			<div class="main">
				<div class="container">
					<button class="btn">Button 1</button>
				</div>
				<div class="container">
					<button class="btn">Button 2</button>
				</div>
				<div class="container">
					<button class="btn">Button 3</button>
				</div>

				<p class="text"></p>
			</div>
			<div id="box" style="--color: red">BOX</div>
		</section>
	</body>
</html>

<script type="text/javascript">
	let sortData = [];
	let showData = [];
	let hideData = [];
	let waitData = [];
	var listData = [
		{
			gameName: "新楓之谷",
			eventName: "新楓之谷j活動",
			beginDate: "2022-12-09T13:53:00",
			endDate: "2022-12-16T13:53:00",
			show: 1
		},
		{
			gameName: "月光雕刻師",
			eventName: "月光雕刻師月光",
			beginDate: "2022-12-09T14:18:00",
			endDate: "2022-12-16T14:18:00",
			show: 1
		},
		{
			gameName: "新楓之谷",
			eventName: "SQA測試-Footer黑-其他都要",
			beginDate: "2022-12-15T17:26:00",
			endDate: "2023-02-11T17:26:00",
			show: 0
		},
		{
			gameName: "龍之谷：新世界",
			eventName: "網柑達",
			beginDate: "2023-02-28T17:15:00",
			endDate: "2023-04-16T17:15:00",
			show: 1
		}
	];
	listData.sort((a, b) => {
		if (a.show == 1 && b.show == 0) {
			return -1;
		} else if (a.show != 1 && b.show != 0) {
			return 1;
		} else {
			return +new Date(b.endDate) - +new Date(a.endDate);
		}
	});
	console.table(listData);
	const eventStatus = (beginDate, endDate, show) => {
		let status = "待上線";
		if (show == 0) {
			status = "已下架";
		} else {
			if (+new Date() >= +new Date(beginDate) && +new Date() <= +new Date(endDate)) {
				status = "已上線";
			}
			if (+new Date() >= +new Date(endDate)) {
				status = "已結束";
			}
		}

		return status;
	};
	// listData.forEach((v, i) => {
	// 	v.status = eventStatus(v.beginDate, v.endDate, v.show);
	// });
	// console.log(listData);
	// showData = listData
	// 	.filter((v, i) => {
	// 		return v.status == "已上線";
	// 	})
	// 	.sort((a, b) => {
	// 		return +new Date(a.endDate) > +new Date(b.endDate) ? -1 : 1;
	// 	});
	// waitData = listData
	// 	.filter((v, i) => {
	// 		return v.status == "待上線";
	// 	})
	// 	.sort((a, b) => {
	// 		return +new Date(a.endDate) > +new Date(b.endDate) ? -1 : 1;
	// 	});
	// hideData = listData
	// 	.filter((v, i) => {
	// 		return v.show == 0;
	// 	})
	// 	.sort((a, b) => {
	// 		return +new Date(a.endDate) > +new Date(b.endDate) ? -1 : 1;
	// 	});
	// sortData = [...showData, ...waitData, ...hideData];
	// console.log(showData, waitData, hideData);
</script>
