<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,IE=8">
	<title>AJAX</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
	<style>
		.btn{
			display: inline-block;
			padding: 6px 12px;
			border:1px solid gray;
			background-color: gold;
			color:#000;
			cursor: pointer;
		}
	</style>
</head>

<body>
<div class="body" data-submit="unlock">123</div>
<div class="btn">CLICK</div>
</body>

<script type="text/javascript">

	var url="https://randomuser.me/api/?results=2000";
	var rpClick=false;
	$('.btn').on('click',function(){
		if( !rpClick ){
			rpClick=true;
			setTimeout(function(){
				$.ajax({
					url:url,
					beforeSend:function(){
						console.log('beforeSend')
					}
				})
				.done(function(data){
					
					console.log(data)
					rpClick=false;
					console.log(rpClick)
				})
				.fail(function(){
					console.log('error')
				})
			},1000)
		}else{
			console.log(rpClick)
			return false;
		}
	})
	
</script>

</html>