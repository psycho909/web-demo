<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <input type="text" id="input" name="" value="">
    <button type="button" id="btn">BTN</button>
    <ul id="ul"></ul>

    <script src="http://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
    <script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyASH0oEAgCTzFs9RCrDGL3yaMUW5fJKTtI",
        authDomain: "withvue.firebaseapp.com",
        databaseURL: "https://withvue.firebaseio.com",
        projectId: "withvue",
        storageBucket: "withvue.appspot.com",
        messagingSenderId: "224613873178"
    };
    firebase.initializeApp(config);
    $(document).ready(function(){
        var msgRef=firebase.database().ref('/messages/');
        $('#btn').on('click',function(){
            var msg=$('#input').val();
            console.log(msg);
            msgRef.push({
                message:msg
            })
        })

        msgRef.on('value',(snap)=>{
            var val=snap.val();
            let list='';
            $.each(val,function(i,item){
                list+=`<li>${item.message}<button type="button" class="remove" data-key="${i}">X</button></li>`;
            })
            $('#ul').html(list);
        })

        $('#ul').on('click','.remove',function(){
            var key=$(this).data('key');
            msgRef.child(key).remove();
            console.log($(this).data('key'))
        })
    })
    </script>
</body>
</html>