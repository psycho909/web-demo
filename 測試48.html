<!DOCTYPE html>
<html lang="zh-Hant-TW">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<script src="https://tw.hicdn.beanfun.com/jquery/jquery.min.js"></script>
		<script src="https://tw.hicdn.beanfun.com/jquery/jquery-migrate.min.js"></script>
		<script src="https://tw.hicdn.beanfun.com/beanfun/GamaWWW/allProducts/script/gbox/gbox.js"></script>
		<style>
			* {
				padding: 0;
				margin: 0;
				box-sizing: border-box;
			}
			.table {
				border-collapse: collapse;
			}
			th,
			td {
				border: 1px solid #000;
				background-color: red;
			}
			.gbox-close {
				display: none;
			}
		</style>
	</head>
	<body>
		<!-- <div id="home-video" data-video="0D0CSOjE8oU"></div> -->
		<script>
			var tag = document.createElement("script");
			tag.src = "https://www.youtube.com/iframe_api";
			var firstScriptTag = document.getElementsByTagName("script")[0];
			firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
			function youtubeApi() {
				var player;
				function onYouTubeIframeAPIReady(e) {
					var v = document.getElementById("home-video");
					if (!v) {
						return false;
					}

					var videoId = v.getAttribute("data-video");
					player = new YT.Player("home-video", {
						videoId: videoId,
						playerVars: {
							controls: 0,
							modestbranding: 0,
							showinfo: 0,
							rel: 0,
							loop: 1,
							start: 15,
							fs: 0, // 顯示全螢幕按鈕
							cc_load_policty: 0, // 隱藏字幕
							iv_load_policy: 3, // 隱藏影片註解
							autohide: 0, // 播放影片時隱藏影片控制列
						},
						events: {
							onReady: function (e) {
								e.target.playVideo();
								e.target.mute();
								$(".home__video").addClass("start");
								$(".gbox-close").show();
							},
							onStateChange: function (e) {
								if (e.data === YT.PlayerState.ENDED) {
									player.playVideo();
								}
							},
						},
					});
				}
				$.gbox.open(videoHTML, defaultObj);
			}

			// var videoHTML = '<div class="video-box"><iframe width="560" height="315" src="https://www.youtube.com/embed/0D0CSOjE8oU?playsinline=1&amp;autoplay=1&amp;mute=1&amp;rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>';
			var videoHTML = '<div id="home-video" data-video="0D0CSOjE8oU"></div';
			var defaultObj = {
				addClass: "default",
				hasCloseBtn: true,
				hasActionBtn: false,
				afterClose: function () {
					$.gbox.close();
				},
				afterOpen: function () {},
			};
			// $.gbox.open(videoHTML, defaultObj);
			window.addEventListener("keydown", function () {
				$.gbox.close();
			});
			youtubeApi();
		</script>
	</body>
</html>
