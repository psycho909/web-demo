import{_ as A,E as F,J as R,N as b,e as k,al as z,G as I,o as G,y as i,g as f,h as p,F as C,m as N,n as h,i as _,w as H,l as B,k as K,t as M,j as U,s as W,x as X,A as Y,B as Z}from"./entry.JhK8AsVu.js";import{S as m}from"./swiper-core.Lw7Odmy1.js";const ee=y=>(Y("data-v-c76dfeb0"),y=y(),Z(),y),te={class:"swiper-wrapper"},re=["onClick"],ne=["href","target"],se={key:1,class:"i--external"},ae={class:"tab__item"},ue=ee(()=>p("i",{class:"i--external"},null,-1)),oe={__name:"TabBasic",props:{list:{type:Array,required:!0,default:[]},type:{type:String,default:"basic"},queryKey:{type:String,default:null},defaultIndex:{type:[String,Number,Boolean],default:!1},mergeQuery:{type:Boolean,default:!1}},emits:["change"],setup(y,{emit:T}){const s=y,V=T,a=F(),w=R(),E=b(null),S=b(null),q=b(null),Q=()=>{q.value=new m(S.value,{slidesPerView:"auto",watchOverflow:!0,touchEventsTarget:"container",initialSlide:x.value||0})},g=k(()=>{const n=s.queryKey;return s.list.filter(e=>(e.type||"tab")==="tab").map((e,u)=>{const r=e.onClick||(()=>{}),t=e.query||null,o=e.path||a.path,c=e.match?e.match:e.path?"path":(e.query||e.query===null)&&n?"query":"path",O=e.target||(e.href?"_target":"_self"),l=e.href||{path:o},j=typeof e.icon=="string"?{name:e.icon}:e.icon,v=s.mergeQuery||e.mergeQuery;if(v||n&&(t||t===null)&&!e.href){const $=t===null?void 0:t,J=v?{...a.query,[n]:$}:{[n]:$};l.query=J}let d=l;return typeof d=="object"&&(d=l.path||location.pathname,l.query&&(d+=z(l.query)),l.hash&&(d+=`#${l.hash}`)),e={...e,type:"tab",onClick:r,query:t,path:o,match:c,to:l,icon:j,target:O,url:d},e})}),D=k(()=>s.list.filter(n=>n.type==="external")),x=k(()=>{const n=s.queryKey;return g.value.findIndex((e,u)=>{var o;const r=e.match;if(e.href)return!1;const t=[];if((o=e.includes)!=null&&o.length&&t.push(...e.includes),e.isDefault&&a.query[n]===void 0)return!0;if(r==="path")return t.push(e.path),t.includes(a.path);if(r==="fullPath")return t.push(e.path),t.includes(a.fullPath);if(r==="includePath")return t.push(e.path),t.some(c=>a.fullPath.indexOf(c)===0);if(r==="query")return t.push(e.query),e.query===null&&t.push(void 0),t.includes(a.query[n]);if(r==="query-exact")return JSON.stringify(a.query)===JSON.stringify({[n]:e.query})})}),L=()=>{if(s.queryKey&&s.defaultIndex!==!1&&!a.query[s.queryKey]){const e=s.list[s.defaultIndex];if(e){const u=e.query===null?void 0:e.query,r={...a.query,[s.queryKey]:u};w.replace({query:r})}}},P=(n,e,u)=>{if(e!=null&&e.onClick&&(e==null||e.onClick(n,e,u)),e.target==="_blank"){window.open(e.url);return}if(e.target==="_self"){w.push(e.to);return}};return I(x,n=>{const e=s.list[n];e&&(V("change",e,n,s.list),e.onSelect&&e.onSelect(e,n,s.list),q.value&&q.value.slideTo(n))},{immediate:!0}),I([()=>a.query[s.queryKey],()=>s.list],n=>{L()},{immediate:!0,flush:"sync"}),G(()=>{Q()}),(n,e)=>{const u=X;return i(),f("div",{class:h(["tab",[`type--${s.type}`]]),ref_key:"$root",ref:E},[p("div",{class:"tab__container",ref_key:"$container",ref:S},[p("ul",te,[(i(!0),f(C,null,N(_(g),(r,t)=>{var o;return i(),f("li",{key:`${r.name}-${t}`,class:h(["swiper-slide",{"-active":t===_(x),[`-${r.type}`]:!0,"-last":t===_(g).length-1,"-first":t===0}])},[p("button",{class:h(["tab__item",{hexatag:y.type==="hexatag"}]),onClick:c=>P(c,r,t)},[p("a",{href:r.url,onClick:e[0]||(e[0]=H(()=>{},["prevent"])),target:r.target},[r.icon?(i(),f("i",{key:0,class:h(`i--${(o=r.icon)==null?void 0:o.name} -box -option-icon`)},null,2)):B("",!0),K(" "+M(r.name)+" ",1),r.external?(i(),f("i",se)):B("",!0)],8,ne)],10,re)],2)}),128)),(i(!0),f(C,null,N(_(D),(r,t)=>(i(),f("li",{key:`${r.name}-${t}`,class:h(["swiper-slide -external",{"-first":t===0}])},[p("button",ae,[U(u,{to:r.to||r.href,target:"_blank"},{default:W(()=>[K(M(r.name)+" ",1),ue]),_:2},1032,["to"])])],2))),128))])],512)],2)}}},ie=A(oe,[["__scopeId","data-v-c76dfeb0"]]);export{ie as T};
