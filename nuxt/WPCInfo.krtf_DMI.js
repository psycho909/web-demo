import{_ as W,N as d,e as p,o as j,y as s,g as o,F as N,m as $,i as c,t as A,ae as D,A as L,B as P,h as f,a1 as B,u as O,j as q,s as I,n as M,k as w,p as R,l as T,R as G,x as H}from"./entry.JhK8AsVu.js";const J=n=>(L("data-v-459393e2"),n=n(),P(),n),K={key:0},Q={key:1,class:"_box"},U={class:"_beltnumber"},X={key:1,class:"_unit"},Y=J(()=>f("div",{class:"_size"},"0",-1)),Z={__name:"SlotMachineNumber",props:{number:{type:[Number,String],default:0},locale:{type:Boolean,default:!1},stagger:{type:[Number,String],default:100},delay:{type:[Number,String],default:1e3},random:{type:Boolean,default:!1},speed:{type:[Number,String],default:1e3}},setup(n,{expose:v}){const a=n,u=d(null),h=d(null),l=d(!1),b=p(()=>a.number+""),x=p(()=>(+b.value).toLocaleString()),m=p(()=>a.locale?x.value:b.value),g=p(()=>m.value.split("").map(r=>{if(r===",")return null;const e=[...Array(10).keys()].sort(()=>.5-Math.random()),t=e.splice(e.indexOf(+r),1);return e.push(t[0]),e})),i=d([]),_=d([]),y=d(0),C=(r,e)=>{const t=_.value[e];B.fromTo(r,{y:0},{y:"-90%",ease:"linear",duration:t,overwrite:!0,autoRound:!1,onComplete:()=>{i.value[e]||C(r,e)}})},z=(r,e)=>{i.value[e]=!0,B.fromTo(r,{y:0},{y:"-90%",ease:"power3.out",duration:a.speed/1e3,overwrite:!0,autoRound:!1,onComplete:()=>{y.value+=1,i.value.length<=y.value&&(l.value=!1)}})},F=()=>{const r=b.value.split("");let e=h.value;i.value=r.map(()=>!1),_.value=r.map(()=>(+a.speed+Math.floor(Math.random()*a.speed*.3)*(Math.random()>.5?1:-1))/2e3),a.random&&e.sort(()=>Math.random()>.5?1:-1);for(let t=0,k=e.length;t<k;++t){const S=e[t];C(S,t),setTimeout(()=>{z(S,t)},+a.delay+ +a.stagger*t)}},E=async()=>{l.value=!0,await D(),F()};return j(()=>{E()}),v({play:E}),(r,e)=>(s(),o("div",{class:"slotmachine",ref_key:"$root",ref:u},[(s(!0),o(N,null,$(c(g),(t,k)=>(s(),o(N,null,[t===null?(s(),o("div",K,",")):(s(),o("div",Q,[c(l)?(s(),o("div",{key:0,class:"_belt",ref_for:!0,ref_key:"$belts",ref:h},[(s(!0),o(N,null,$(t,S=>(s(),o("div",U,A(S),1))),256))],512)):(s(),o("div",X,A(c(m)[k]),1)),Y]))],64))),256))],512))}},ee=W(Z,[["__scopeId","data-v-459393e2"]]),V=n=>(L("data-v-939a92d1"),n=n(),P(),n),te=V(()=>f("span",{class:"_key"},[w(" 보유 WPC "),f("i",{class:"i--arrow-pagination"})],-1)),se={key:0,class:"_notice"},ae=V(()=>f("i",{class:"i--plus"},null,-1)),oe={__name:"WPCInfo",props:{type:{type:String,default:"default"},emptyNotice:{type:Boolean,default:!0}},setup(n){const v=n,a=O(),u=p(()=>{var l;return(l=a==null?void 0:a.user)==null?void 0:l.wpc}),h=p(()=>{var l;return((l=u.value)==null?void 0:l.isEmpty)&&v.emptyNotice});return(l,b)=>{const x=H;return s(),o("div",{class:M(["wpc-info",`type--${v.type}`])},[q(G,{rs:c(a).wpcRS,fit:"",noborder:""},{default:I(()=>{var m,g,i,_,y;return[te,f("span",{class:M(["_value",{"-empty":(m=c(u))==null?void 0:m.isEmpty}])},[(g=c(u))!=null&&g.isEmpty?(s(),o(N,{key:0},[w(" 0 ")],64)):(s(),R(ee,{key:1,number:(i=c(u))==null?void 0:i.point,locale:"",delay:"0",stagger:"80",speed:"1500",random:""},null,8,["number"]))],2),c(h)?(s(),o("span",se," (PC버전 결제 시 적립) ")):T("",!0),(_=c(u))!=null&&_.link?(s(),R(x,{key:1,class:"_detail util-box",to:(y=c(u))==null?void 0:y.link,target:"_blank"},{default:I(()=>[ae,w(" 자세히 보기 ")]),_:1},8,["to"])):T("",!0)]}),_:1},8,["rs"])],2)}}},re=W(oe,[["__scopeId","data-v-939a92d1"]]);export{re as W};
