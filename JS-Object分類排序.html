<!DOCTYPE html>
<html lang="zh-Hant-TW">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Document</title>
    </head>
    <body>
        <pre id="pre"></pre>
        <script>
            var obj = [
                {id: 1, content: 'hello', category: 'HTML'},
                {id: 1, content: 'hello', category: 'JS'},
                {id: 1, content: 'hello2', category: 'CSS'},
                {id: 2, content: 'hi', category: 'CSS'}
            ]

            var json2arr=obj.reduce((acc,v)=>{
                if(acc[v.id]){
                    acc[v.id]['category']=[acc[v.id]['category'],v.category].join(',')
                }else{
                    acc[v.id]=JSON.parse(JSON.stringify(v))
                }
                return acc
            },{})
            document.getElementById('pre').innerHTML=JSON.stringify(json2arr,null,2)
        </script>
    </body>
</html>
