<!DOCTYPE html>
<html lang="zh-Hant-TW">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Document</title>
    </head>
    <body>
        <script>
            var obj = [
                {id: 1, content: 'hello', category: 'HTML'},
                {id: 1, content: 'hello', category: 'JS'},
                {id: 1, content: 'hello2', category: 'CSS'},
                {id: 2, content: 'hi', category: 'CSS'}
            ]

            var obj_reducer = obj.reduce((acc,v,i)=>{
                acc[v.id+"_"+v.content]=(acc[v.id+"_"+v.content] || []).concat(v)
                return acc
            },{})
            console.log(obj_reducer)

            var obj_total=Object.keys(obj_reducer).reduce((acc,v,i)=>{
                var o_id=v.split('_')
                var objj=obj_reducer[v].map((value,index)=>{
                    return value.category
                })
                acc.push({
                    id:o_id[0],
                    content:o_id[1],
                    category:objj
                })
                return acc
            },[])
            console.log(obj_total)
        </script>
    </body>
</html>
